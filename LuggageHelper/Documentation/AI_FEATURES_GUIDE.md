# AI 功能使用指南

## 概述

LuggageHelper 的 AI 功能由硅基流动提供支持，为用户提供智能化的行李管理体验。本指南将详细介绍如何配置和使用各项 AI 功能。

## 快速开始

### 1. 配置 AI 服务

#### 获取 API 密钥
1. 访问 [硅基流动官网](https://siliconflow.cn)
2. 注册账号并登录
3. 在控制台中创建 API 密钥
4. 复制密钥备用

#### 应用内配置
1. 打开 LuggageHelper 应用
2. 进入 "AI功能" 标签页
3. 点击右上角 "设置" 按钮
4. 在 "API 配置" 部分：
   - 输入 API 密钥
   - 设置基础 URL（默认已填写）
   - 选择模型（推荐使用默认模型）
5. 点击 "测试连接" 验证配置
6. 配置成功后即可使用 AI 功能

### 2. 功能开关控制

在设置页面的 "智能功能开关" 部分，您可以：
- 开启/关闭各项 AI 功能
- 根据需要调整功能使用
- 节省 API 调用成本

## 主要功能详解

### 🤖 智能物品识别

#### 功能说明
通过输入物品名称和型号，AI 自动识别并填充物品的重量、体积、尺寸等信息。

#### 使用步骤
1. 在物品管理页面点击 "+" 添加物品
2. 输入物品名称（必填）
3. 输入型号信息（可选，但能提高识别准确性）
4. 点击 "AI 识别" 按钮
5. 等待 AI 处理（通常 2-5 秒）
6. 查看并确认识别结果
7. 如需要可手动调整信息
8. 保存物品

#### 使用技巧
- 提供准确的物品名称能提高识别成功率
- 包含品牌和型号信息效果更佳
- 常见物品识别准确率更高
- 识别结果仅供参考，请根据实际情况调整

### 📸 照片识别增强

#### 功能说明
全新升级的照片识别功能，支持实时相机识别、多物品批量处理、离线识别和智能缓存，大幅提升识别准确度和用户体验。

#### 主要特性
- **实时相机识别**: 通过相机预览实时检测和识别物品
- **多物品识别**: 一张照片识别多个物品，支持批量处理
- **离线识别**: 无网络环境下的基础识别功能
- **智能缓存**: 相似图片快速匹配，显著提升响应速度
- **图像增强**: 自动优化图片质量，提高识别成功率
- **错误恢复**: 智能错误处理和用户引导

#### 使用步骤

##### 基础照片识别
1. 在添加物品页面点击相机图标
2. 选择拍照或从相册选择
3. 系统自动进行图像质量检查和增强
4. AI 分析照片内容并显示置信度
5. 查看识别结果和替代选项
6. 确认或修改识别信息
7. 保存物品和照片

##### 实时相机识别
1. 在照片识别页面选择"实时识别"
2. 将相机对准要识别的物品
3. 系统实时显示检测框和物品类别
4. 点击检测框立即开始识别
5. 查看详细识别结果
6. 选择添加到行李清单

##### 多物品批量识别
1. 拍摄包含多个物品的照片
2. 系统自动检测所有物品并标记
3. 选择要识别的特定物品（可多选）
4. 点击"批量识别"开始处理
5. 查看每个物品的识别结果
6. 批量添加到物品清单

##### 离线识别模式
1. 在设置中下载离线识别模型
2. 网络不可用时自动切换到离线模式
3. 支持常见旅行物品的基础识别
4. 网络恢复后自动同步和优化结果

#### 拍照技巧和最佳实践

##### 获得最佳识别效果
- **光线充足**: 确保物品在明亮环境中，避免阴影和反光
- **主体突出**: 物品应占据照片的主要部分（至少50%）
- **背景简洁**: 使用纯色或简单背景，避免复杂图案干扰
- **角度适当**: 正面或45度角拍摄效果最佳
- **焦点清晰**: 确保物品边缘清晰，避免模糊

##### 多物品拍摄技巧
- **合理摆放**: 物品之间保持适当间距，避免重叠
- **尺寸平衡**: 大小相近的物品放在一起效果更好
- **分类拍摄**: 相同类别的物品可以一起拍摄
- **标识清晰**: 确保品牌标识和型号信息可见

##### 特殊物品处理
- **透明物品**: 在深色背景前拍摄
- **反光物品**: 避免直接光源，使用漫射光
- **小物品**: 使用微距模式或放大拍摄
- **不规则物品**: 多角度拍摄，选择最佳角度

#### 识别结果解读

##### 置信度说明
- **90%以上**: 识别结果非常可靠，可直接使用
- **70-90%**: 识别结果较为可靠，建议核实关键信息
- **50-70%**: 识别结果仅供参考，需要手动确认
- **50%以下**: 识别不确定，建议重新拍摄或手动输入

##### 结果验证
- 检查物品名称是否准确
- 确认重量和尺寸信息的合理性
- 验证类别分类是否正确
- 查看替代选项和相似物品

#### 性能优化功能

##### 智能缓存系统
- **精确匹配**: 相同图片立即返回结果
- **相似匹配**: 相似度>80%的图片复用结果
- **学习优化**: 根据用户反馈持续改进
- **自动清理**: 智能管理缓存空间

##### 图像预处理
- **自动增强**: 改善亮度、对比度和清晰度
- **尺寸优化**: 自动调整到最佳识别尺寸
- **格式转换**: 支持多种图片格式
- **质量检查**: 自动检测并提示图片质量问题

### 🧳 装箱优化

#### 功能说明
基于物品尺寸和行李箱容量，AI 提供最优的装箱方案和摆放建议。

#### 使用步骤
1. 进入 "AI功能" → "装箱优化"
2. 选择要装箱的物品
3. 选择目标行李箱
4. 点击 "开始优化"
5. 查看 AI 生成的装箱方案：
   - 装箱顺序建议
   - 物品摆放位置
   - 空间利用率
   - 重量分布
6. 按照建议进行装箱

#### 优化原则
- 重物在底部，轻物在顶部
- 易碎物品特殊保护
- 最大化空间利用率
- 保持重心平衡
- 便于取用的物品放在上层

### 🌍 智能旅行规划

#### 功能说明
根据旅行目的地、时长、季节和活动类型，生成个性化的物品携带建议。

#### 使用步骤
1. 进入 "AI功能" → "智能旅行规划"
2. 填写旅行信息：
   - 目的地城市或国家
   - 旅行天数
   - 出行季节
   - 主要活动类型
3. 点击 "生成建议"
4. 查看分类整理的物品清单：
   - 衣物类
   - 电子产品
   - 洗漱用品
   - 药品类
   - 其他必需品
5. 选择需要的物品添加到清单

#### 个性化因素
- 目的地气候和文化
- 旅行时长和强度
- 个人偏好和历史记录
- 活动类型和特殊需求
- 当地购买便利性

### ⚖️ 重量预测

#### 功能说明
实时计算和预测行李总重量，提前警告超重风险并提供减重建议。

#### 使用方式
1. 系统自动计算所有物品重量
2. 实时显示当前总重量
3. 对比航空公司重量限制
4. 超重风险自动警告
5. 提供减重建议：
   - 移除最重物品
   - 替换为轻便版本
   - 分装到多个行李

#### 预测准确性
- 基于 AI 识别的物品重量
- 考虑包装和容器重量
- 提供重量范围估算
- 建议实际称重确认

### 🔄 物品替代建议

#### 功能说明
当物品导致超重或超尺寸时，AI 推荐功能相似但更轻便的替代品。

#### 触发条件
- 行李超重警告时
- 物品体积过大时
- 用户主动请求时
- 装箱空间不足时

#### 替代原则
- 保持核心功能不变
- 显著减少重量或体积
- 考虑价格和可获得性
- 提供多个选择方案

### 📋 遗漏物品提醒

#### 功能说明
基于旅行计划和目的地信息，主动提醒可能遗漏的重要物品。

#### 检查维度
- 目的地特殊要求
- 季节性必需品
- 活动专用装备
- 个人常用物品
- 法律法规要求

#### 提醒时机
- 完成物品清单后
- 临近出发时间
- 添加新目的地时
- 修改旅行计划时

### ✈️ 航司政策查询

#### 功能说明
自动查询和解读航空公司的最新行李政策，避免额外费用。

#### 查询内容
- 随身行李限制（重量、尺寸、数量）
- 托运行李政策
- 特殊物品规定
- 超重费用标准
- 最新政策变化

#### 使用建议
- 出行前及时查询
- 关注政策更新
- 对比不同航司政策
- 提前规划行李分配

## 性能优化

### 缓存机制

为提升使用体验，应用采用智能缓存策略：

- **物品识别**: 24小时缓存，相同物品快速响应
- **照片识别**: 7天缓存，基于图片内容
- **旅行建议**: 24小时缓存，相同参数复用
- **装箱优化**: 12小时缓存，平衡实时性
- **航司政策**: 7天缓存，政策变化较慢

### 网络优化

- 自动检测网络状态
- 离线模式支持基础功能
- 智能重试机制
- 请求队列管理
- 并发控制优化

## 故障排除

### 常见问题

#### API 连接失败
**症状**: 测试连接失败，显示网络错误
**解决方案**:
1. 检查网络连接
2. 验证 API 密钥正确性
3. 确认基础 URL 设置
4. 检查防火墙设置
5. 联系技术支持

#### 识别结果不准确
**症状**: AI 识别的物品信息明显错误
**解决方案**:
1. 提供更详细的物品描述
2. 包含品牌和型号信息
3. 使用更清晰的照片
4. 手动修正识别结果
5. 反馈问题帮助改进

#### 照片质量问题
**症状**: 提示图片质量不符合要求
**解决方案**:
1. 确保光线充足，避免阴影
2. 保持相机稳定，避免模糊
3. 调整拍摄距离，确保物品清晰
4. 使用简洁背景，减少干扰
5. 尝试不同角度拍摄

#### 多物品识别混乱
**症状**: 多个物品识别结果混乱或错误
**解决方案**:
1. 确保物品之间有足够间距
2. 避免物品重叠或遮挡
3. 分别拍摄单个物品
4. 使用实时识别功能逐个识别
5. 手动选择要识别的物品区域

#### 实时识别卡顿
**症状**: 实时相机识别响应缓慢或卡顿
**解决方案**:
1. 关闭其他占用相机的应用
2. 重启应用释放内存
3. 降低识别频率设置
4. 清理缓存释放存储空间
5. 检查设备性能和温度

#### 离线识别不可用
**症状**: 离线模式下无法识别物品
**解决方案**:
1. 在设置中下载离线识别模型
2. 确保有足够的存储空间
3. 检查模型文件完整性
4. 重新下载损坏的模型文件
5. 连接网络使用在线识别

#### 响应速度慢
**症状**: AI 功能响应时间过长
**解决方案**:
1. 检查网络连接质量
2. 清理应用缓存
3. 重启应用
4. 避免高峰时段使用
5. 升级网络套餐

#### 功能无法使用
**症状**: 某些 AI 功能显示不可用
**解决方案**:
1. 检查功能开关设置
2. 验证 API 配置
3. 确认账户余额
4. 更新应用版本
5. 重新配置服务

### 性能监控

应用内置性能监控功能：
- 实时响应时间统计
- 缓存命中率监控
- 错误率跟踪
- 资源使用分析

可在 "AI功能" → "设置" → "缓存管理" 中查看详细统计。

## 最佳实践

### 使用建议

1. **合理使用 API**
   - 避免重复识别相同物品
   - 利用缓存机制提升效率
   - 根据需要开启功能开关

2. **提高识别准确性**
   - 提供详细的物品描述
   - 使用清晰的照片
   - 包含品牌和型号信息

3. **优化装箱效果**
   - 准确测量物品尺寸
   - 考虑物品特殊要求
   - 结合实际经验调整

4. **个性化设置**
   - 根据使用习惯调整功能
   - 保存常用配置
   - 定期更新偏好设置

### 成本控制

- 合理使用 AI 功能，避免不必要的调用
- 利用缓存机制减少重复请求
- 根据需要开启/关闭特定功能
- 监控 API 使用量和成本

## 技术支持

如遇到问题或需要帮助：

1. **应用内帮助**: "AI功能" → "设置" → "使用指南"
2. **常见问题**: 查看应用内 FAQ 部分
3. **技术支持**: 发送邮件至 support@luggagehelper.com
4. **问题反馈**: 通过 GitHub Issues 报告问题
5. **用户社区**: 加入用户交流群获取帮助

---

**提示**: AI 功能需要网络连接和有效的 API 配置。建议在 WiFi 环境下使用以获得最佳体验。